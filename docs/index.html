<h1>ECMPS Beta API Examples</h1>
<p>Below are some examples of how the ECMPS Beta API endpoints could be used to find useful information you may be looking for.</p>
<p>An easy way to start is by using the configurations endpoint in the <a target="_blank" href="https://www.epa.gov/power-sector/cam-api-portal#/swagger/beta-monitor-plan-mgmt">Monitoring Plan API</a>.
<p>Run the JS script below.</p>
<pre style="padding: 0.5em; border:1px solid #ccc; background: rgb(230, 230, 230);">
  <code>const response = await fetch('https://api.epa.gov/easey/beta/monitor-plan-mgmt/configurations?orisCodes=3',
      {
        headers: {
          "x-api-key": "DEMO_KEY"
        },
        "referrer": "https://usepa.github.io/",
        "method": "GET",
      });
    const data = await response.json();</code>
</pre>

<p>Below is the resonse.</p>

<div style="height:400px;border:1px solid #ccc;overflow:auto; margin:0 2em;">
  <pre id="monitoringPlanConfigResponse" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(51, 51, 51); color: white; margin:0;">
    loading...
  </pre>
</div>

<p>The first "Id" of each object in the response is the unique identifier (Id) of a monitoring configuration record. You will see this as parameters 
  to use in other endpoints (named: monPlanIds or planIds)</p>

<script>
  (async () => {
    const response = await fetch('https://api.epa.gov/easey/beta/monitor-plan-mgmt/configurations?orisCodes=3',
      {
        headers: {
          "x-api-key": "DEMO_KEY"
        },
        "referrer": "https://usepa.github.io/",
        "method": "GET",
      });
    const data = await response.json();
    const elem = document.getElementById("monitoringPlanConfigResponse");
    elem.innerHTML = '<code class="language-json">'+JSON.stringify(data, null, 4);+'</code>'
    return data;
  })();
</script>
